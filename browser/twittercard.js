!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.twittercard=e():t.twittercard=e()}(this,(function(){return function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/draw.js")}({"./src/draw.js":function(t,e){function o(t,e,o,r,n,l){if(e){const i=t.createLinearGradient(o,r,n,l);e.forEach(t=>{i.addColorStop(t.stop,t.color)}),t.fillStyle=i,t.fillRect(o,r,n,l)}}t.exports=function(t,{width:e,height:r,texts:n,templateImage:l,backgroundColor:i,roundedBorder:c,borderTop:d,borderRight:f,borderBottom:a,borderLeft:u,guides:s}){const p=e||1280,g=r||669;if(t.textBaseline="top",c){c.color&&(t.fillStyle=c.color,t.fillRect(0,0,p,g)),c.gradient&&o(t,c.gradient,0,0,p,g);let e=c.width||0,r=c.width||0,n=p-2*e,l=g-2*r,i=c.radius||0;!function(t,e,o,r,n,l){r<2*l&&(l=r/2),n<2*l&&(l=n/2),t.beginPath(),t.moveTo(e+l,o),t.arcTo(e+r,o,e+r,o+n,l),t.arcTo(e+r,o+n,e,o+n,l),t.arcTo(e,o+n,e,o,l),t.arcTo(e,o,e+r,o,l),t.clip()}(t,e,r,n,l,i)}i&&(t.fillStyle=i,t.fillRect(0,0,p,g)),l&&t.drawImage(l,0,0),d&&(d.color&&(t.fillStyle=d.color,t.fillRect(0,0,p,d.width)),d.gradient&&o(t,d.gradient,0,0,p,d.width)),f&&(f.color&&(t.fillStyle=f.color,t.fillRect(p-f.width,0,p-f.width,g)),f.gradient&&o(t,f.gradient,p-f.width,0,p-f.width,g)),a&&(a.color&&(t.fillStyle=a.color,t.fillRect(0,g-a.width,p,g-a.width)),a.gradient&&o(t,a.gradient,0,g-a.width,p,g-a.width)),u&&(u.color&&(t.fillStyle=u.color,t.fillRect(0,0,u.width,g)),u.gradient&&o(t,u.gradient,0,0,u.width,g)),n&&n.forEach(e=>{t.fillStyle=e.color,t.font=e.font,console.log("FONT",e.font),"center"===e.x&&(t.textAlign="center");const o="center"===e.x?p/2:e.x,r="center"===e.y?g/2:e.y;!function(t,e,o,r,n,l){const{actualBoundingBoxAscent:i,actualBoundingBoxDescent:c}=e.measureText(t),d=i+c,f=t.split(" "),a=[];let u="";for(let t=0;t<f.length;t++){let o=u+f[t]+" ";e.measureText(o).width>n&&t>0?(a.push(u.trim()),u=f[t]+" "):u=o}u&&a.push(u.trim());const s=l-(l-d)/2;let p=r-a.length*s/2;for(let t=0;t<a.length;t++)e.fillText(a[t],o,p+t*s)}(e.text,t,o,r,e.maxWidth||700,e.lineHeight||20)}),s&&(t.fillStyle="lime",t.fillRect(0,g/2,p,1),t.fillRect(p/2,0,1,g))}}})}));
//# sourceMappingURL=twittercard.js.map